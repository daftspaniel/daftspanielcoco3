10 DIM X,Y,N,E,R,TV,SC,S,T
20 CLS:GOSUB 340:GOSUB 310:GOSUB 260:GOSUB 190
30 ?@Y*32+X,"*";
40 E=PEEK(135):R=PEEK(337):IF R=255 THEN PE=0:GOTO 130
50 IF E=10 THEN ?@Y*32+X," ";:Y=Y+1
60 IF E=94 THEN ?@Y*32+X," ";:Y=Y-1
70 IF E=9 THEN ?@Y*32+X," ";:X=X+1
80 IF E=8 THEN ?@Y*32+X," ";:X=X-1
90 IF Y>14 THEN Y=14
100 IF Y<1 THEN Y=1
110 IF X>31 THEN X=31
120 IF X<0 THEN X=0
130 GOSUB250
140 N=PEEK(1024+X+Y*32)
150 IF N=94 THEN S=S+100:SOUND 200,1:GOSUB 240
160 IF N=30 THEN SC=SC+500:PLAY"T100ABCDEFG":GOSUB 240:GOSUB 310
170 IF S=500 THEN GOSUB 270
180 GOTO 30
190 FOR T=1 TO TC
200 X=1+RND(30):Y=1+RND(13)
210 ?@Y*32+X,CHR$(94);
220 NEXT
230 RETURN
240 ?@0,"SCORE : "+STR$(SC+S):?@15,"TIME : ";:RETURN
250 ?@23, STR$(LI-TIMER);:RETURN
260 SC=SC+S:S=0:GOSUB 240:RETURN
270 GOSUB 260
280 TX=1+RND(30):TY=1+RND(13):?@TY*32+TX,CHR$(126);
300 RETURN
310 TC=TC-2:IF TC<5 THEN TC=5
320 LI=LI-350:TIMER=0
321 CLS:GOSUB 190:GOSUB 240:X=1:Y=8:
330 RETURN
340 TC=12:SC=0:S=0:LI=2000:X=1:Y=8:TIMER=0
350 RETURN
360 PRINT"GAME OVER"
370 RETURN
