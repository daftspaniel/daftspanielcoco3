10 DIM X,Y,N,PE,TV,SC,S
20 GOSUB400:GOSUB290:GOSUB300:GOSUB220
50 ?@Y*32+X,"*";
60 PE=PEEK(135):PR = PEEK(337):IF PR=255 THEN PE=0:GOTO160
70 IF PE=10 THEN ?@Y*32+X," ";:Y=Y+1
80 IF PE=94 THEN ?@Y*32+X," ";:Y=Y-1
90 IF PE=9 THEN ?@Y*32+X," ";:X=X+1
100 IF PE=8 THEN ?@Y*32+X," ";:X=X-1
110 IF Y>14 THEN Y=14
120 IF Y<1 THEN Y=1
130 IF X>31 THEN X=31
140 IF X<0 THEN X=0
160 GOSUB280
170 N=PEEK(1024+X+1+Y*32):?@480,STR$(N);
175 N=PEEK(1024+X+Y*32)
180 IF N=94 THEN S=S+100:GOSUB 270
190 IF N=30 THEN SC=SC+500:GOSUB 270:GOSUB350
200 IF S=500 THEN GOSUB 310
210 GOTO 50
220 FOR TREE=1 TO TC
230 X=1 + RND(30) : Y=1+RND(13)
240 ?@Y*32+X,CHR$(94);
250 NEXT
260 RETURN
270 ?@0,"SCORE : "+STR$(SC+S):?@15,"TIME : ";:RETURN
280 ?@23, STR$(LI-TIMER); : RETURN
300 CLS:SC=SC+S:S=0:GOSUB270:RETURN
310 GOSUB300
320 X=1 + RND(30) : Y=1+RND(13):?@Y*32+X,CHR$(126);
330 X=0:Y=8
340 RETURN
350 TC=TC-2:IF TC<5 THEN TC=5
360 LI=LI-500:TIMER=0
360 RETURN
400 TC=12:SC=0:S=0:LI=3000:X=1:Y=8:TIMER=0
410 RETURN
